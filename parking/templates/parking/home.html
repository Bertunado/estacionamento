{% extends "parking/base.html" %}
{% load static %}

{% block title %}Vagas Disponíveis{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'parking/css/style.css' %}">
{% endblock %}

{% block content %}
<!-- Tabs -->
<div class="flex border-b border-gray-200">
    <button class="tab-btn px-4 py-2 font-medium text-indigo-600 border-b-2 border-indigo-600" data-tab="parkings">Vagas Disponíveis</button>
    <button class="tab-btn px-4 py-2 font-medium text-gray-500 hover:text-indigo-500" data-tab="add-parking">Divulgar Vaga</button>
    <button class="tab-btn px-4 py-2 font-medium text-gray-500 hover:text-indigo-500" data-tab="my-parkings">Minhas Vagas</button>
    <button class="tab-btn px-4 py-2 font-medium text-gray-500 hover:text-indigo-500" data-tab="chat">Chat</button>
    <button class="tab-btn px-4 py-2 font-medium text-gray-500 hover:text-indigo-500" data-tab="profile">Perfil</button>
    <button class="tab-btn px-4 py-2 font-medium text-gray-500 hover:text-indigo-500" data-tab="settings">Configurações</button>    
</div>

<!-- Parkings Tab -->
<div id="parkings" class="tab-content active mt-4">
    <div class="flex justify-between mb-4">
        <h2 class="text-xl font-bold text-gray-800">Vagas Disponíveis na Sua Região</h2>
        <div class="flex space-x-2">
            <select class="border border-gray-300 rounded px-2 py-1">
                <option>Ordenar por: Distância</option>
                <option>Ordenar por: Preço</option>
                <option>Ordenar por: Avaliação</option>
            </select>
            <button class="bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700 flex items-center">
                <i class="fas fa-filter mr-1"></i> Filtrar
            </button>
        </div>
    </div>

    <div class="bg-white rounded-lg shadow-md p-4 mb-4">
    <div class="flex">
            <div class="w-1/2">
                <h3 class="text-lg font-semibold">Pesquisar Localização</h3>

                    <div class="flex space-x-2 mt-2">
                        <input id="cepInput" type="text" placeholder="Digite seu endereço ou CEP" class="border border-gray-300 rounded w-full p-2" />
                        <button id="buscarCepBtn" class="bg-indigo-600 text-white px-3 py-2 rounded hover:bg-indigo-700">
                    Buscar
                        </button>
                    </div>

                <div class="map-container mt-4 rounded-lg shadow">
                <div id="map" style="height: 400px; width: 100%;"></div>
            </div>
        </div>

            <div class="w-1/2 pl-4">
                <h3 class="text-lg font-semibold">Vagas Próximas</h3>
                <div id="parking" class="mt-4 space-y-4 overflow-y-auto" style="max-height: 350px;">

                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Parking Tab -->
<div id="add-parking" class="tab-content mt-4">
  <div class="bg-white rounded-lg shadow-md p-6">
    <h2 class="text-xl font-bold text-gray-800 mb-4">Divulgar Nova Vaga</h2>
    
    <form id="addParkingForm">
      {% csrf_token %}
      <input type="hidden" id="latInput" name="latitude">
      <input type="hidden" id="lngInput" name="longitude">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label for="titleInput" class="block text-gray-700 font-medium mb-2">Título da Vaga</label>
          <input
            type="text"
            id="titleInput"
            name="title"
            placeholder="Digite o título da vaga"
            class="border border-gray-300 rounded w-full p-2"
          />
          
          <label class="block text-gray-700 font-medium mb-2 mt-4">Endereço</label>
          <input
            type="text"
            id="addressInput"
            name="address"
            placeholder="Digite a rua e número"
            class="border border-gray-300 rounded w-full p-2"
            autocomplete="off"
          />

        <label for="tipo_vaga" class="block text-gray-700 font-medium mt-4 mb-2">Tipo de Vaga</label>
        <select id="tipo_vaga" name="tipo_vaga" class="w-full border border-gray-300 rounded px-3 py-2">
            <option value="rua_coberta">Rua (Coberta)</option>
            <option value="rua_descoberta">Rua (Descoberta)</option>
            <option value="garagem">Garagem</option>
            <option value="predio_coberta">Prédio (Coberta)</option>
            <option value="predio_descoberta">Prédio (Descoberta)</option>
        </select>

          <label class="block text-gray-700 font-medium mt-4 mb-2">Tamanho</label>
          <select name="size" id="sizeInput" class="border border-gray-300 rounded w-full p-2">
            <option>Pequeno (até 1.8m de largura)</option>
            <option>Médio (até 2.2m de largura)</option>
            <option>Grande (acima de 2.2m)</option>
          </select>

          <div class="mb-4">
            <label class="block text-gray-700 font-medium mt-4 mb-2">Definir Disponibilidade por Data:</label>
            <input type="text" id="availability-calendar" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2" placeholder="Selecione as datas de disponibilidade">

            <div id="selected-dates-config" class="mt-4 space-y-4 p-4 border rounded-md bg-gray-50">
                <p id="no-dates-message" class="text-gray-500">Selecione as datas no calendário acima para configurar os horários e vagas.</p>
            </div>
        </div>

    </div>
        <div>
          <label class="block text-gray-700 font-medium mb-2">Preço</label>
          <div class="grid grid-cols-2 gap-2">
            <div>
              <span class="text-sm text-gray-600">Por hora</span>
              <div class="flex items-center border border-gray-300 rounded">
                <span class="px-3">R$</span>
                <input type="number" name="price_hour" id="priceHourInput" class="p-2 w-full border-0">
              </div>
            </div>
            <div>
              <span class="text-sm text-gray-600">Por dia</span>
              <div class="flex items-center border border-gray-300 rounded">
                <span class="px-3">R$</span>
                <input type="number" name="price_day" id="priceDayInput" class="p-2 w-full border-0">
              </div>
            </div>
          </div>

          <label class="block text-gray-700 font-medium mt-4 mb-2">Fotos da Vaga</label>
          <div id="photoDropzone" class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer">
            <i class="fas fa-camera text-3xl text-gray-400 mb-2"></i>
            <p>Arraste e solte fotos aqui ou clique para selecionar</p>
            <input id="photosInput" type="file" class="hidden" multiple accept="image/*">
            <div id="previewContainer" class="mt-2 flex flex-wrap justify-center gap-2"></div>
          </div>

          <label class="block text-gray-700 font-medium mt-4 mb-2">Descrição</label>
          <textarea name="description" class="border border-gray-300 rounded w-full p-2 h-24" placeholder="Forneça detalhes sobre a vaga..."></textarea>

          <div class="flex items-center mt-4">
            <input type="checkbox" class="mr-2">
            <span class="text-sm">Confirmo que sou o proprietário/autorizado e que esta vaga não viola nenhuma lei local</span>
          </div>

          
          <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded mt-6 w-full hover:bg-indigo-700">
            Publicar Vaga
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

<div id="my-parkings" class="tab-content mt-4">
  <div class="bg-white rounded-lg shadow-md p-6">
    <h2 class="text-xl font-bold text-gray-800 mb-4">Minhas Vagas Cadastradas</h2>
    <div id="myVagasContainer" class="space-y-4">
      <div class="border border-gray-200 rounded-lg p-4">
        <div class="flex justify-between items-center">
          <div>
            <span class="text-green-600 bg-green-100 text-sm px-2 py-1 rounded">Ativa</span>
          </div>
        </div>

        <div class="mt-3 flex items-center justify-between">
          <div class="flex space-x-2">
            <button class="bg-indigo-600 text-white px-3 py-1 text-sm rounded hover:bg-indigo-700" data-id="${spot.id}" data-action="editar">Editar</button>
            <button class="bg-gray-100 text-gray-800 px-3 py-1 text-sm rounded hover:bg-gray-200">Ver Estatísticas</button>
            <button class="bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700" data-id="${spot.id}" data-action="desativar"> Desativar</button>
            <button class="bg-red-100 text-red-600 px-3 py-1 text-sm rounded hover:bg-red-200 btn-excluir" data-id="${spot.id}" data-action="excluir">Excluir</button>
          </div>
        </div>
      </div>

      <!-- Nenhuma vaga cadastrada -->
      <p class="text-center text-gray-400 mt-6">Você ainda não cadastrou nenhuma vaga.</p>
    </div>
  </div>
</div>

<!-- Chat Tab -->
<div id="chat" class="tab-content mt-4">
    <div class="bg-white rounded-lg shadow-md p-6 flex flex-col h-[500px]">
        <h2 class="text-xl font-bold mb-4">Chat</h2>
        
        <div id="msg-box" class="flex-grow overflow-y-auto border rounded p-4 bg-gray-50 mb-4">
            {% for m in conversation.messages.all %}
                <p>
                    <strong>{{ m.sender.username }}:</strong> {{ m.text }}
                    <small class="text-gray-500 text-xs">({{ m.created_at|time:"H:i" }})</small>
                </p>
            {% empty %}
                <p class="text-gray-400 text-center mt-12">Nenhuma mensagem ainda. Comece a conversar!</p>
            {% endfor %}
        </div>
        
        <form id="msg-form" class="flex space-x-2">
            {% csrf_token %}
            <input name="text" type="text" placeholder="Digite sua mensagem" class="flex-grow border rounded p-2" autocomplete="off" />
            <button type="submit" class="bg-indigo-600 text-white px-4 rounded hover:bg-indigo-700">Enviar</button>
        </form>
    </div>

    <!-- JSON seguro do convId -->
    {{ conversation.id|json_script:"convIdData" }}
    
</div>

<!-- Profile Tab -->
<div id="profile" class="tab-content mt-4">
    <div class="bg-white rounded-lg shadow-md p-6">
        <div class="flex items-center mb-6">
            <div class="relative">
                {% if perfil.foto %}
                    <img src="{{ perfil.foto.url }}" alt="Foto de perfil" class="w-20 h-20 rounded-full object-cover">
                {% else %}
                    <img src="{{ MEDIA_URL }}fotos_perfil/anonimo.png" alt="Foto de perfil padrão" class="w-20 h-20 rounded-full object-cover">
                {% endif %}
                <button class="absolute bottom-0 right-0 bg-indigo-100 rounded-full p-1 hover:bg-indigo-200">
                    <i class="fas fa-camera text-indigo-600 text-sm"></i>
                </button>
            </div>
            
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <h3 class="font-medium text-lg mb-4">Informações Pessoais</h3>
                <div class="space-y-3">
                    <div>
                        <label class="block text-gray-600 text-sm">Nome Completo</label>
                        <input type="text" value="{{ perfil.nome_completo }}" class="border-0 border-b border-gray-300 w-full p-1 bg-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-600 text-sm">E-mail</label>
                        <input type="email" value="{{ perfil.usuario.email }}" class="border-0 border-b border-gray-300 w-full p-1 bg-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-600 text-sm">Telefone</label>
                        <input type="tel" value="{{ perfil.telefone }}" class="border-0 border-b border-gray-300 w-full p-1 bg-transparent">
                    </div>
                </div>
                
                <h3 class="font-medium text-lg mt-6 mb-4">Informações do Veículo</h3>
                <div class="space-y-3">
                    <div>
                        <label class="block text-gray-600 text-sm">Modelo</label>
                        <input type="text" value="{{ perfil.modelo_veiculo }}" class="border-0 border-b border-gray-300 w-full p-1 bg-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-600 text-sm">Cor</label>
                        <input type="text" value="{{ perfil.cor_veiculo }}" class="border-0 border-b border-gray-300 w-full p-1 bg-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-600 text-sm">Placa</label>
                        <input type="text" value="{{ perfil.placa_veiculo }}" class="border-0 border-b border-gray-300 w-full p-1 bg-transparent">
                    </div>
                </div>
                
                <button class="mt-6 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">
                    Salvar Alterações
                </button>
            </div>
            
            <div>
                <h3 class="font-medium text-lg mb-4">Suas Vagas</h3>
                <div class="space-y-3">
                    <div class="border border-gray-200 rounded p-3">
                        <div class="flex justify-between">
                            <h4 class="font-medium">Vaga em casa - Moema</h4>
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">Disponível</span>
                        </div>
                        <div class="mt-2 text-sm text-gray-600">
                            <p>Coberta, R$ 15/h ou R$ 50/dia</p>
                            <p class="mt-1">Próxima disponibilidade: Hoje às 18h</p>
                        </div>
                        <div class="flex space-x-2 mt-3">
                            <button class="text-sm bg-gray-100 px-3 py-1 rounded hover:bg-gray-200">
                                Editar
                            </button>
                            <button class="text-sm bg-gray-100 px-3 py-1 rounded hover:bg-gray-200">
                                Estatísticas
                            </button>
                        </div>
                    </div>
                </div>
                
                <h3 class="font-medium text-lg mt-6 mb-4">Histórico de Reservas</h3>
                <div class="space-y-3">
                    <div class="border border-gray-200 rounded p-3">
                        <div class="flex justify-between">
                            <h4 class="font-medium">Vaga coberta - Centro</h4>
                            <span class="bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded">Finalizada</span>
                        </div>
                        <div class="mt-2 text-sm text-gray-600">
                            <p>15/06/2023 - 16h às 18h</p>
                            <p class="mt-1">Total: R$ 30,00</p>
                        </div>
                        <div class="flex space-x-2 mt-3">
                            <button class="text-sm bg-gray-100 px-3 py-1 rounded hover:bg-gray-200">
                                Avaliar
                            </button>
                            <button class="text-sm bg-gray-100 px-3 py-1 rounded hover:bg-gray-200">
                                Reclamar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Settings Tab -->
<div id="settings" class="tab-content mt-4">
    <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-xl font-bold text-gray-800 mb-6">Configurações</h2>
        
        <div class="space-y-6">
            <div>
                <h3 class="font-medium text-lg mb-3">Notificações</h3>
                <div class="space-y-2">
                    <div class="flex items-center justify-between">
                        <span>Novas vagas na minha região</span>
                        <input type="checkbox" checked class="ml-4">
                    </div>
                    <div class="flex items-center justify-between">
                        <span>Alertas de reservas</span>
                        <input type="checkbox" checked class="ml-4">
                    </div>
                    <div class="flex items-center justify-between">
                        <span>Lembretes de pagamento</span>
                        <input type="checkbox" class="ml-4">
                    </div>
                    <div class="flex items-center justify-between">
                        <span>Promoções e ofertas</span>
                        <input type="checkbox" class="ml-4">
                    </div>
                </div>
            </div>
            
            <div>
                <h3 class="font-medium text-lg mb-3">Pagamento</h3>
                <div class="bg-gray-50 p-4 rounded">
                    <div class="flex items-center">
                        <i class="far fa-credit-card text-xl mr-3"></i>
                        <span>Cartão finalizado em 1234</span>
                        <button class="ml-auto text-indigo-600 hover:text-indigo-800">Alterar</button>
                    </div>
                </div>
            </div>
            
            <div>
                <h3 class="font-medium text-lg mb-3">Acessibilidade</h3>
                <div class="flex space-x-4">
                    <button class="border border-gray-300 px-4 py-2 rounded hover:bg-gray-50">
                        Modo para daltônicos
                    </button>
                    <button class="border border-gray-300 px-4 py-2 rounded hover:bg-gray-50">
                        Tamanho de fonte maior
                    </button>
                </div>
            </div>
            
            <div>
                <h3 class="font-medium text-lg mb-3">Conta</h3>
                <div class="space-y-2">
                    <button class="text-left w-full p-2 text-red-600 hover:bg-red-50 rounded">
                        Desativar conta temporariamente
                    </button>
                    <button class="text-left w-full p-2 text-red-600 hover:bg-red-50 rounded">
                        Excluir conta permanentemente
                    </button>
                </div>
            </div>
            
            <button class="mt-6 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">
                Salvar Configurações
            </button>
        </div>
    </div> 
</div>

<div id="parking-detail-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
    <div class="bg-white rounded-lg w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto">
        <div class="p-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-800" id="modal-parking-title">(Titulo da Vaga)</h3>
                <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/193711e1-47a8-44c3-86af-4c20ef678c94.png" alt="Vista ampla de garagem residencial com espaço para um carro médio e prateleiras de armazenamento" class="w-full h-48 object-cover rounded-lg mb-4">

            <div class="mb-4">
                <p class="text-gray-800" id="modal-parking-address">(Endereço da Vaga)</p>
                <p class="text-gray-600 text-sm mt-1" id="modal-parking-description">(Descrição da Vaga)</p>
            </div>

            <p id="modal-parking-type" class="text-gray-600 text-sm mt-1">Tipo: </p>
            <p id="modal-parking-quantity" class="text-gray-600 text-sm mt-1">Quantidade: </p>

            <div class="flex items-center mb-4">
                <span class="text-yellow-500">★★★★☆</span>
                <span class="text-gray-500 text-sm ml-1">(12 avaliações)</span>
            </div>

            <p id="modal-spot-price-hour" class="text-lg font-semibold text-indigo-600 mb-4">
                Preço por hora: R$ --,-- </p>

            <div class="mb-4">
                <label for="reservation-calendar" class="block text-sm font-medium text-gray-700">Selecione as Datas da Reserva</label>
                <input type="text" id="reservation-calendar" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2" placeholder="Clique para selecionar as datas">
                <div id="selected-reservation-dates-display" class="mt-2 text-sm text-gray-500">Nenhuma data selecionada ainda.</div>
            </div>

            <div id="available-slots-for-date" class="hidden mt-4">
                <h3 class="font-semibold text-gray-800 mb-2">Vagas Disponíveis para as Datas Selecionadas:</h3>
                <div id="dynamic-vaga-squares" class="flex flex-wrap gap-2">
                    </div>
                <p id="no-slots-message" class="text-gray-500 text-sm mt-2">Selecione uma data para ver as vagas disponíveis.</p>
            </div>

           <div id="selected-slot-details-section" class="hidden bg-gray-50 rounded-lg p-4 mb-4">
    <h3 class="font-semibold text-gray-800 mb-2">Detalhes da Vaga Escolhida:</h3>
    <p class="text-gray-700 mb-1">Número da vaga: <span id="selected-slot-number" class="font-bold">--</span></p>
    <p class="text-gray-700 mb-1">Data da vaga: <span id="selected-slot-date-display" class="font-bold">--/--/----</span></p>

    <div class="mb-4">
    <label for="start-time-input" class="block text-sm font-medium text-gray-700">Horário de entrada:</label>
    <input type="text" id="start-time-input" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2" placeholder="HH:MM">
</div>

    <div class="mb-4">
    <label for="end-time-input" class="block text-sm font-medium text-gray-700">Horário de saída:</label>
    <input type="text" id="end-time-input" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2" placeholder="HH:MM">
</div>

    <p class="text-gray-700 font-semibold mb-3">Como você deseja reservar?</p>

    <div id="reservation-option-hourly" class="reservation-option bg-gray-100 rounded-lg p-4 mb-4 relative
                cursor-pointer transition-all duration-300 ease-in-out
                hover:scale-[1.02] hover:shadow-lg">
        <span class="absolute top-2 left-2 text-xs font-bold text-gray-600 bg-gray-200 px-2 py-1 rounded">Por hora</span>
        <div class="flex justify-between mb-2 mt-4">
            <span class="text-gray-700">Valor por hora:</span>
            <span class="font-bold" id="hourly-price">R$ --,--</span>
        </div>
        <div class="flex justify-between mb-2">
            <span class="text-gray-700">Total de horas:</span>
            <span class="font-bold" id="total-hours">0</span>
        </div>
        <div class="flex justify-between font-bold text-lg">
            <span>Total:</span>
            <span id="total-price">R$ 0,00</span>
        </div>
        <div class="selection-indicator absolute top-0 right-0 w-8 h-8 rounded-tr-lg
                    flex items-center justify-center text-white text-xs font-bold
                    bg-purple-600 transform translate-x-1/2 -translate-y-1/2 scale-0 opacity-0
                    transition-all duration-300 ease-in-out">
            ✓
        </div>
    </div>

    <p class="text-center text-gray-600 font-semibold mb-4">Ou</p>

    <div id="reservation-option-daily" class="reservation-option bg-gray-100 rounded-lg p-4 relative
                cursor-pointer transition-all duration-300 ease-in-out
                hover:scale-[1.02] hover:shadow-lg">
        <span class="absolute top-2 left-2 text-xs font-bold text-gray-600 bg-gray-200 px-2 py-1 rounded">Por dia</span>
        <div class="flex justify-between mb-2 mt-4">
            <span class="text-gray-700">Valor pelo dia:</span>
            <span class="font-bold" id="daily-price">R$ --,--</span>
        </div>
        <div class="flex justify-between mb-2">
            <span class="text-gray-700">Horário de entrada e saída:</span>
            <span class="font-bold" id="daily-times">--:-- até --:--</span>
        </div>
        <div class="flex justify-between font-bold text-lg">
            <span>Total:</span>
            <span id="daily-total-price">R$ 0,00</span>
        </div>
        <div class="selection-indicator absolute top-0 right-0 w-8 h-8 rounded-tr-lg
                    flex items-center justify-center text-white text-xs font-bold
                    bg-purple-600 transform translate-x-1/2 -translate-y-1/2 scale-0 opacity-0
                    transition-all duration-300 ease-in-out">
            ✓
        </div>
    </div>
</div>

            <div class="mt-6 flex justify-end space-x-3">
                <button id="close-modal" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300">Cancelar</button>
                <button id="confirm-reservation-btn" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">Confirmar Reserva</button>
            </div>
        </div>
    </div>
</div>          
            <!-- Reservation Confirmation Modal -->
            <div id="reservation-confirmation-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
                <div class="bg-white rounded-lg w-full max-w-md mx-4 p-6">
                    <div class="text-center mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-green-500 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Reserva confirmada!</h3>
                        <p class="text-gray-600">Sua reserva foi confirmada com sucesso.</p>
                    </div>
                    
                    <div class="bg-gray-100 rounded-lg p-4 mb-6">
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-700">Local:</span>
                            <span class="font-bold" id="confirmation-location">Garagem residencial</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-700">Endereço:</span>
                            <span class="font-bold" id="confirmation-address">Rua das Flores, 123 - Centro</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-700">Data:</span>
                            <span class="font-bold" id="confirmation-date">15/06/2023</span>
                        </div>
				<div class="flex justify-between mb-2">
                            <span class="text-gray-700">Horário:</span>
                            <span class="font-bold" id="confirmation-time">14:00 - 17:00</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-700">Vaga:</span>
                            <span class="font-bold" id="confirmation-spot">Vaga A1</span>
                        </div>
                        <div class="flex justify-between font-bold text-lg mt-3 pt-2 border-t border-gray-300">
                            <span>Total:</span>
                            <span id="confirmation-total">R$ 24,00</span>
                        </div>
                    </div>
                    
                    <button id="close-confirmation-btn" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition duration-200">
                        Fechar
                    </button>
                </div>
            </div> 


<!-- Botoes -->
<div id="delete-confirm-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-xl w-80 p-6">
        <div class="text-center mb-4">
            <h3 class="text-xl font-medium text-gray-800">Confirmação de Exclusão</h3>
            <p class="modal-message-placeholder text-base text-gray-700 mt-2">Tem certeza que deseja excluir essa vaga?</p>
        </div>
        <div class="flex justify-center space-x-4">
            <button id="confirm-delete" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Confirmar</button>
            <button id="cancel-delete" class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">Cancelar</button>
        </div>
    </div>
</div>

<div id="delete-success-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-xl w-80 p-6">
        <div class="text-center mb-6">
            <h3 class="text-xl font-medium text-gray-800">Sucesso!</h3>
            <p class="modal-message-placeholder text-base text-gray-700 mt-2">Vaga excluída com sucesso!</p>
        </div>
        <div class="flex justify-center">
            <button id="success-ok" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">OK</button>
        </div>
    </div>
</div>

<div id="error-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-xl w-80 p-6">
        <div class="text-center mb-6">
            <h3 class="text-xl font-medium text-red-600">Erro!</h3>
            <p class="modal-message-placeholder text-base text-gray-700 mt-2">Ocorreu um erro inesperado.</p>
        </div>
        <div class="flex justify-center">
            <button id="error-ok" class="bg-red-600 text-white px-6 py-2 rounded hover:bg-red-700">OK</button>
        </div>
    </div>
</div>

<div id="success-modal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white p-6 rounded-lg shadow-lg w-96 text-center">
        <h3 class="text-xl font-semibold mb-4 text-green-700">Sucesso!</h3>
        <p id="success-message" class="mb-6 text-gray-700">Vaga publicada com sucesso!</p>
        <button id="success-ok-button" class="px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50">OK</button>
    </div>
</div>

<div id="deactivate-confirm-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-xl w-80 p-6">
    <div class="text-center mb-4">
      <h3 class="text-xl font-medium text-gray-800">Confirmação de Ação</h3>
      <p class="modal-message-placeholder text-base text-gray-700 mt-2">Deseja desativar essa vaga?</p>
    </div>
    <div class="flex justify-center space-x-4">
      <button id="confirm-deactivate" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">Confirmar</button>
      <button id="cancel-deactivate" class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">Cancelar</button>
    </div>
  </div>
</div>

<div id="edit-spot-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
  <div class="bg-white p-6 rounded-lg shadow-xl w-96">
    <h2 class="text-xl font-semibold mb-4">Editar Vaga</h2>
    <form id="editParkingForm" class="space-y-3">
      <input type="hidden" id="edit-spot-id" name="edit-spot-id">

      <label class="block text-sm font-medium text-gray-700">Título</label>
      <input type="text" id="edit-title" name="edit-title" class="w-full border px-3 py-2 rounded" required>

      <div>
          <label for="edit-address" class="block text-sm font-medium text-gray-700">Endereço</label>
          <input type="text" id="edit-address" name="edit-address" required
                 class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2">
      </div>
      <label class="block text-sm font-medium text-gray-700">Descrição</label>
      <textarea id="edit-description" name="edit-description" class="w-full border px-3 py-2 rounded" required></textarea>

      <label class="block text-sm font-medium text-gray-700">Preço por hora</label>
      <input type="number" id="edit-price_hour" name="edit-price_hour" class="w-full border px-3 py-2 rounded" step="0.01" required>

      <label class="block text-sm font-medium text-gray-700">Preço por dia</label>
      <input type="number" id="edit-price_day" name="edit-price_day" class="w-full border px-3 py-2 rounded" step="0.01" required>

      <div>
          <label for="edit-size" class="block text-sm font-medium text-gray-700">Tamanho da Vaga</label>
          <select id="edit-size" name="edit-size"
                  class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2">
              <option value="Pequeno">Pequeno</option>
              <option value="Médio">Médio</option>
              <option value="Grande">Grande</option>
              <option value="Indefinido">Indefinido</option> </select>
      </div>

      <div>
          <label for="edit-tipo_vaga" class="block text-sm font-medium text-gray-700">Tipo de Vaga</label>
          <select id="edit-tipo_vaga" name="edit-tipo_vaga"
                  class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2">
              <option value="Carro">Carro</option>
              <option value="Moto">Moto</option>
              <option value="Caminhão">Caminhão</option>
              </select>
      </div>
      <div class="flex justify-end space-x-2 mt-4">
        <button type="button" id="cancel-edit" class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">Cancelar</button>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Salvar</button>
      </div>
    </form>
  </div>
</div>

{% endblock %}